:root {
  --bg: #0c0f14;
  --panel: #141922;
  --panel-2: #121621;
  --text: #e8eef7;
  --muted: #9bb0c0;
  --accent: #47b2ff;
  --success: #3ddb8b;
  --danger: #ff6b6b;
  --warning: #ffd166;
  --border: #223046;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

.app { display: grid; grid-template-rows: 56px 1fr; height: 100%; }
.app-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 16px; background: var(--panel); border-bottom: 1px solid var(--border);
}
.brand { display: flex; gap: 8px; align-items: center; font-weight: 600; }
.brand span { letter-spacing: 0.2px; }
.header-actions { display: flex; gap: 8px; }
button {
  background: transparent; border: 1px solid var(--border); color: var(--text);
  padding: 8px 12px; border-radius: 8px; cursor: pointer;
}
button.primary { background: var(--accent); color: #04121e; border: none; }
button:disabled { opacity: 0.6; cursor: not-allowed; }

.app-main {
  display: grid;
  grid-template-columns: 320px 1fr 360px;
  gap: 12px;
  padding: 12px;
}

.sidebar, .details, .content {
  background: var(--panel-2);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
}

.section-header {
  padding: 12px 12px; border-bottom: 1px solid var(--border);
  display: flex; align-items: center; justify-content: space-between;
}

.list {
  padding: 8px; display: flex; flex-direction: column; gap: 8px; max-height: calc(100% - 49px); overflow: auto;
}
.list-item {
  display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center;
  padding: 10px 12px; border: 1px solid var(--border); border-radius: 10px; background: #0f1420;
  cursor: pointer;
}
.list-item:hover { border-color: var(--accent); }
.badge { padding: 2px 8px; border-radius: 999px; font-size: 12px; background: #0d1725; border: 1px solid var(--border); color: var(--muted); }
.badge.online { color: var(--success); border-color: #2a5a48; background: #0c1916; }
.badge.alert { color: var(--danger); border-color: #5a2a2a; background: #190c0c; }
.badge.idle { color: var(--warning); border-color: #5a512a; background: #19160c; }

.content { position: relative; }
.map-container { height: 100%; }

.details-body { padding: 12px; display: grid; gap: 12px; }
.kv { display: grid; grid-template-columns: 120px 1fr; gap: 8px; }
.kv .k { color: var(--muted); }
.kv .v { font-weight: 600; }

.controls { display: flex; gap: 8px; flex-wrap: wrap; padding: 12px; }
.input, .select {
  width: 100%; background: #0f1420; color: var(--text); border: 1px solid var(--border);
  padding: 8px 10px; border-radius: 8px; outline: none;
}
.filters { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 8px 12px 12px; }

.leaflet-container { background: #0a0f18; }